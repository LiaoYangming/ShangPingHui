<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>我的pc项目</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/index.css" />
  </head>

  <body style="height: 1000px">
    <!--包裹器   整个页面的容器-->
    <div class="wrap">
      <!--窗口侧边栏-->
      <div class="toolBar toolWrap">
        <!--内容容器-->
        <div class="content"></div>
        <!--面包屑-->
        <div class="but list"></div>
        <!--中间列表-->
        <ul class="toolList">
          <li>
            <i class="tabIcon vip"></i>
            <em>尚品汇员</em>
          </li>
          <li>
            <i class="tabIcon cart"></i>
            <em>购物车</em>
          </li>
          <li>
            <i class="tabIcon follow"></i>
            <em>我的关注</em>
          </li>
          <li>
            <i class="tabIcon history"></i>
            <em>历史记录</em>
          </li>
          <li>
            <i class="tabIcon message"></i>
            <em>消息</em>
          </li>
          <li>
            <i class="tabIcon qus"></i>
            <em>咨询</em>
          </li>
        </ul>
        <!--回到顶部-->
        <div class="back">
          <i class="tabIcon"></i>
          <em></em>
        </div>
      </div>
      <!-- 头部区域 -->
      <header class="header">
        <!--头部第一行-->
        <div class="top">
          <div class="container">
            <!--登录-->
            <div class="login">
              <p>尚品汇欢迎您！</p>
              <p>
                <span>请</span>
                <a href="###">登录</a>
                <a href="###" class="register">免费注册</a>
              </p>
            </div>
            <!--头部导航-->
            <div class="headerNav">
              <a href="###">我的订单</a>
              <a href="###">我的购物车</a>
              <a href="###">我的尚品汇</a>
              <a href="###">尚品汇会员</a>
              <a href="###">企业采购</a>
              <a href="###">关注尚品汇</a>
              <a href="###">合作招商</a>
              <a href="###">商家后台</a>
            </div>
          </div>
        </div>
        <!--头部第二行-->
        <div class="bottom">
          <h1 class="logoArea">
            <a href="###">
              <img src="img/Logo.png" alt="尚品汇" />
            </a>
          </h1>
          <div class="searchArea">
            <form action="">
              <input type="text" />
              <button>搜索</button>
            </form>
          </div>
        </div>
      </header>
      <!--商品导航分类-->
      <div class="typeNav">
        <div class="container">
          <h2 class="all">全部商品分类</h2>
          <nav>
            <a href="###">服装城</a>
            <a href="###">美妆馆</a>
            <a href="###">尚品汇超市</a>
            <a href="###">全球购</a>
            <a href="###">闪购</a>
            <a href="###">团购</a>
            <a href="###">有趣</a>
            <a href="###">秒杀</a>
          </nav>
        </div>
      </div>
      <!--商品主要内容区域-->
      <section class="con">
        <!--路径导航-->
        <div class="conPoin">
          <!-- <a href="###">手机、数码、通讯</a>
        <a href="###">手机</a>
        <a href="###">Apple苹果</a>
        <a>iphone 6S系类</a> -->
        </div>
        <!--主要内容区域-->
        <div class="mainCon">
          <!--左侧放大镜-->
          <div class="previewWrap">
            <!--放大镜效果-->
            <div class="preview">
              <!--小图-->
              <div class="zoom">
                <!-- <img src="img/s1.png" alt=""> -->
              </div>
              <!--大图-->
            </div>
            <!--缩略图效果-->
            <div class="specScroll">
              <a class="prev">&lt;</a>
              <div class="itemCon">
                <ul class="list">
                  <!-- <li><img src="img/s1.png" alt=""></li>
                <li><img src="img/s2.png" alt=""></li>
                <li><img src="img/s3.png" alt=""></li>
                <li><img src="img/s1.png" alt=""></li>
                <li><img src="img/s2.png" alt=""></li>
                <li><img src="img/s3.png" alt=""></li>
                <li><img src="img/s1.png" alt=""></li>
                <li><img src="img/s2.png" alt=""></li> -->
                </ul>
              </div>
              <a class="next">&gt;</a>
            </div>
          </div>
          <!--右侧商品信息-->
          <div class="infoWrap">
            <div class="info1"></div>
            <div class="choose">
              <div class="chooseArea">
                <div class="choosed"></div>
              </div>
              <div class="carWrap">
                <div class="controls">
                  <input type="text" value="1" />
                  <a href="###" class="plus">+</a>
                  <a href="###" class="mins">-</a>
                </div>
                <div class="addBtn">
                  <a href="###">加入购物车</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!--商品详情页-->
      <section class="productDetail">
        <!--侧边栏-->
        <aside class="aside">
          <!--选项卡切换的按钮-->
          <div class="tabWrap">
            <h4 class="active">相关分类</h4>
            <h4>推荐品牌</h4>
          </div>
          <!--选项卡内容-->
          <div class="tabContent">
            <div class="active">
              <ul class="partList">
                <li>手机</li>
                <li>手机壳</li>
                <li>内存卡</li>
                <li>iphone配件</li>
                <li>贴膜</li>
                <li>手机耳机</li>
                <li>移动电源</li>
                <li>平板电脑</li>
              </ul>
              <ul class="goodsList">
                <li>
                  <div class="gImg">
                    <img src="img/part01.png" alt="" />
                  </div>
                  <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                  <p class="price">¥6088.00</p>
                  <div class="addCar">
                    <a href="###">加入购物车</a>
                  </div>
                </li>
                <li>
                  <div class="gImg">
                    <img src="img/part02.png" alt="" />
                  </div>
                  <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                  <p class="price">¥6088.00</p>
                  <div class="addCar">
                    <a href="###">加入购物车</a>
                  </div>
                </li>
                <li>
                  <div class="gImg">
                    <img src="img/part03.png" alt="" />
                  </div>
                  <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                  <p class="price">¥6088.00</p>
                  <div class="addCar">
                    <a href="###">加入购物车</a>
                  </div>
                </li>
                <li>
                  <div class="gImg">
                    <img src="img/part01.png" alt="" />
                  </div>
                  <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                  <p class="price">¥6088.00</p>
                  <div class="addCar">
                    <a href="###">加入购物车</a>
                  </div>
                </li>
              </ul>
            </div>
            <div>推荐品牌</div>
          </div>
        </aside>
        <div class="detail">
          <div class="fitting">
            <h4>选择搭配</h4>
            <div class="goodSuits">
              <div class="master">
                <img src="img/l-m01.png" alt="" />
                <p>¥5299</p>
                <i>+</i>
              </div>
              <ul class="suits">
                <li class="suitsItem">
                  <img src="img/dp01.png" alt="" />
                  <p>Feless费勒斯VR</p>
                  <label>
                    <input type="checkbox" value="39" />
                    <span>39</span>
                  </label>
                </li>
                <li class="suitsItem">
                  <img src="img/dp02.png" alt="" />
                  <p>Feless费勒斯VR</p>
                  <label>
                    <input type="checkbox" value="39" />
                    <span>39</span>
                  </label>
                </li>
                <li class="suitsItem">
                  <img src="img/dp03.png" alt="" />
                  <p>Feless费勒斯VR</p>
                  <label>
                    <input type="checkbox" value="39" />
                    <span>39</span>
                  </label>
                </li>
                <li class="suitsItem">
                  <img src="img/dp04.png" alt="" />
                  <p>Feless费勒斯VR</p>
                  <label>
                    <input type="checkbox" value="39" />
                    <span>39</span>
                  </label>
                </li>
              </ul>
              <div class="result">
                <div>已选购0件商品</div>
                <p class="price-tit">套餐价</p>
                <p class="price">¥5299</p>
                <button>加入购物车</button>
              </div>
            </div>
          </div>
          <div class="intro">
            <ul class="tabWrap">
              <li class="active"><a href="###">商品介绍</a></li>
              <li><a href="###">规格与包装</a></li>
              <li><a href="###">售后保障</a></li>
              <li><a href="###">商品评价</a></li>
              <li><a href="###">手机社区</a></li>
            </ul>
            <div class="tabContent">
              <div class="active">
                <ul class="goodsIntro">
                  <li>分辨率：1920*1080(FHD)</li>
                  <li>后置摄像头：1200万像素</li>
                  <li>前置摄像头：500万像素</li>
                  <li>核 数：其他</li>
                  <li>频 率：以官网信息为准</li>
                  <li>品牌： Apple</li>
                  <li>商品名称：APPLEiPhone 6s Plus</li>
                  <li>商品编号：1861098</li>
                  <li>商品产地：中国大陆</li>
                  <li>商品毛重：0.51kg</li>
                  <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
                </ul>
                <div class="introImg">
                  <img src="img/intro01.png" alt="" />
                  <img src="img/intro02.png" alt="" />
                  <img src="img/intro03.png" alt="" />
                </div>
              </div>
              <div>规格与包装</div>
              <div>售后保障</div>
              <div>商品评价</div>
              <div>手机社区</div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </body>
  <!-- 引入js数据 -->
  <script src="./js/data.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', function () {
      intiCrumb();
      leftTabClick();
      bottomTabClick();
      zoom();
      thumb();
      thumbClick();
      info();
      choosed();
      goodsParamsClick();
    });
    var bigIndex = 0;
    // 初始化面包屑导航数据
    function intiCrumb() {
      // 接收数据
      var getCrumb = goodData.path;
      var crumbStr = '';
      // forEach循环数组
      getCrumb.forEach(function (item, index) {
        // 最后一项不需要给a链接设置href属性，所以要进行判断；
        if (index < getCrumb.length - 1) {
          // 字符串
          crumbStr += `<a href = '${item.url}'>${item.title}</a>`;
        } else {
          // 最后一项
          crumbStr += `<a>${item.title}</a>`;
        }
      });
      // 找到要追加的位置
      var crumbEle = document.querySelector('.con .conPoin');
      crumbEle.innerHTML = crumbStr;
    }

    // 左侧tab选项卡绑定事件
    function leftTabClick() {
      var tabs = document.querySelectorAll(
        '.wrap .productDetail .aside .tabWrap h4'
      );
      // 得到的是伪数组，要转为真数组（Array.from()）,遍历数组
      tabs = Array.from(tabs);
      tabs.forEach(function (item, index) {
        // 单击事件   item => tabs[index]
        item.onclick = function () {
          // 给当前单击的元素添加active类，移除其它兄弟元素的类，排他法；
          for (var i = 0; i < tabs.length; i++) {
            tabs[i].classList.remove('active');
          }
          this.classList.add('active');
          // 获取tabs下面对应的选项
          var tabContent = document.querySelectorAll(
            '.wrap .productDetail .aside .tabContent > div'
          );
          // 给当前单击的元素添加active类，移除其它兄弟元素的类，排他法；
          for (var j = 0; j < tabs.length; j++) {
            tabContent[j].classList.remove('active');
          }
          // 通过下标找到对应的
          tabContent[index].classList.add('active');
        };
      });
    }

    // 底部选项卡绑定事件
    function bottomTabClick() {
      var tabWrap = document.querySelectorAll(
        '.wrap .productDetail .detail .intro .tabWrap li'
      );
      tabWrap = Array.from(tabWrap);
      tabWrap.forEach(function (item, index) {
        // console.log(item);
        item.onclick = function () {
          // 给当前单击的元素添加active类，移除其它兄弟元素的类，排他法；
          for (var i = 0; i < tabWrap.length; i++) {
            tabWrap[i].classList.remove('active');
          }
          this.classList.add('active');
          // tabWrap下面的对应的选项
          var tabW_content = document.querySelectorAll(
            '.wrap .productDetail .detail .intro .tabContent > div'
          );
          // 给当前单击的元素添加active类，移除其它兄弟元素的类，排他法；
          for (var j = 0; j < tabWrap.length; j++) {
            tabW_content[j].classList.remove('active');
          }
          tabW_content[index].classList.add('active');
        };
      });
    }

    // 放大镜操作
    function zoom() {
      // 获取到小盒子(父盒子)
      var sbox = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview .zoom'
      );
      // 获取大盒子
      var bBox = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview'
      );

      // 创建节点 createElement() 创建小图 img节点
      var s_img = document.createElement('img');
      s_img.src = goodData.imgsrc[0].s;
      // 把s_img追加到父盒子下
      sbox.appendChild(s_img);

      // 缓存节点
      var cover = null;
      var b_Box = null;
      var b_img = null;
      // 添加事件
      sbox.onmouseenter = function () {
        // 创建遮盖(cover)盒子div节点
        cover = document.createElement('div');
        // 给cover添加类
        cover.className = 'mask';
        sbox.appendChild(cover);

        // 创建大盒子 div
        b_Box = document.createElement('div');
        // b_img 添加类 bigBox
        b_Box.className = 'bigBox';
        bBox.appendChild(b_Box);

        // 大盒子里的图片
        b_img = document.createElement('img');
        // b_img 添加类 bigBox
        b_img.src = goodData.imgsrc[bigIndex].b;
        // console.log(bigIndex);
        b_Box.appendChild(b_img);

        // 给小盒子做绑定事件 当鼠标移动到里面时
        sbox.onmousemove = function (event) {
          event = event || window.event;
          // e.clientX:相对于浏览器客户端x坐标    e.pageX:相对于文档所在x坐标
          // 获取遮盖的移动距离
          var coverLeft =
            event.clientX -
            cover.offsetWidth / 2 -
            sbox.getBoundingClientRect().left;
          var coverTop =
            event.clientY -
            cover.offsetHeight / 2 -
            sbox.getBoundingClientRect().top;
          // 获取遮盖盒子的最大移动距离
          var coverMaxLeft = sbox.clientWidth - cover.offsetWidth;
          var coverMaxTop = sbox.clientHeight - cover.offsetHeight;
          // console.log('1',coverMaxLeft);
          // console.log('2',coverMaxTop);

          // 判断 遮盖不能超出小盒子 左边 下边 如果超出就等于它
          if (coverLeft > coverMaxLeft) {
            coverLeft = coverMaxLeft;
          } else if (coverLeft < 0) {
            coverLeft = 0;
          }
          // 不能超出 上边 右边
          if (coverTop > coverMaxTop) {
            coverTop = coverMaxTop;
          } else if (coverTop < 0) {
            coverTop = 0;
          }
          // 设置遮盖盒子的left和top
          cover.style.left = coverLeft + 'px';
          cover.style.top = coverTop + 'px';

          // 放大镜效果 获取大盒子里的图片的最大移动距离  大盒子里的图片大小 — 大盒子大小
          var b_imgMaxLeft = b_img.offsetWidth - bBox.clientWidth;
          var b_imgMaxTop = b_img.offsetHeight - bBox.clientHeight;
          // console.log(b_imgMaxLeft,b_imgMaxTop); // 400
          // 比例关系： 遮盖的移动距离 / 遮盖最大的移动距离 = 大图的移动距离(未知) / 大图最大的移动距离（未知）
          // 大图的移动距离 = (遮盖的移动距离 * 大图最大的移动距离) / 遮盖最大的移动距离
          var b_imgLeft = (coverLeft * b_imgMaxLeft) / coverMaxLeft;
          var b_imgTop = (coverTop * b_imgMaxTop) / coverMaxTop;
          // 设置大图的left和top
          b_img.style.left = -b_imgLeft + 'px';
          b_img.style.top = -b_imgTop + 'px';
        };
        sbox.onmouseleave = function () {
          // DOM树中要销毁遮盖，大图容器
          sbox.removeChild(cover);
          bBox.removeChild(b_Box);
          // 节点在DOM树已经销毁了，但是其dom节点的变量还是引用着它，为了消除无效DOM引用
          // 防止内存泄漏，要解除DOM的引用
          cover = b_Box = b_img = null;
          // 解绑鼠标移动和离开事件
          sbox.onmousemove = null;
          sbox.onmouseleave = null;
        };
      };
    }

    // 缩略图操作
    function thumb() {
      goodData.imgsrc.forEach(function (item, index) {
        // 获取父节点 ul
        var list = document.querySelector(
          '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list'
        );
        // 获取图片数据，动态创建li,并追加到父节点 list下
        var list_li = document.createElement('li');
        list.appendChild(list_li);
        // 动态创建img标签，并追加到list_li下面
        var list_liImg = document.createElement('img');
        list_liImg.src = item.s;
        list_li.appendChild(list_liImg);
        // console.log(list_li);
      });
      // 给左右箭头分别绑定单击事件
      // 先获取左右箭头
      // 左箭头
      var next = document.querySelector(
        '.wrap .con .mainCon .previewWrap .specScroll .next '
      );
      // 右箭头
      var prev = document.querySelector(
        '.wrap .con .mainCon .previewWrap .specScroll .prev'
      );
      var list = document.querySelector(
        '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list'
      );
      var list_li = document.querySelectorAll(
        '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list li'
      );
      // 点击一次的偏移量  =  list_li自身大小 + list_li盒子外边距的大小
      // 获取自身大小 list_li[0].offsetWidth 获取右外边距 window.getComputedStyle(list_li[0]).marginRight
      var list_liLeft =
        list_li[0].offsetWidth +
        parseInt(window.getComputedStyle(list_li[0]).marginRight);
      // console.log(list_liLeft); // 75
      var num = 5;
      // 最大移动距离
      var li_MaxLeft = (list_li.length - num) * list_liLeft;
      // console.log(li_MaxLeft); // 750
      // 声明一个变量，用来记录移动的值
      var moveLeft = 0;
      // 给左箭头绑定单击事件
      next.onclick = function () {
        // 判断，超过最大的移动距离则不能在向左移动；
        if (moveLeft >= li_MaxLeft) {
          return; // 不在移动
        }
        moveLeft += list_liLeft;
        list.style.left = -moveLeft + 'px';
      };
      prev.onclick = function () {
        // 判断，当移动距离为0时，则停止向右移动
        if (moveLeft === 0) {
          return;
        }
        moveLeft -= list_liLeft;
        list.style.left = -moveLeft + 'px';
      };
    }

    // 点击缩略图
    function thumbClick() {
      // 获取缩略图节点
      var simgs = document.querySelectorAll(
        '.wrap .con .mainCon .previewWrap .specScroll .itemCon .list > li img'
      );
      // 获取小盒子里的图片
      var zoomimg = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview .zoom img'
      );
      Array.from(simgs).forEach(function (item, index) {
        item.onclick = function () {
          // 获取当前点击的图片地址，赋值给小盒子里的图片src
          zoomimg.src = this.src;
          bigIndex = index;
        };
      });
    }

    // 动态创建基本信息
    function info() {
      var info1 = document.querySelector(
        '.wrap .con .mainCon .infoWrap .info1'
      );
      var goods = goodData.goodsDetail;
      var infos = `<h3 class="infoName">${goods.title}</h3>
            <p class="news">${goods.recommend}</p>
            <div class="priceArea">
              <div class="priceArea1">
                <div class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</div>
                <div class="price">
                  <i>￥</i>
                  <em>${goods.price}</em>
                  <span>降价通知</span>
                </div>
                <div class="remark">
                  <i>累计评价</i>
                  <span>${goods.evaluateNum}</span>
                </div>
              </div>
              <div class="priceArea2">
                <div class="title">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</div>
                <div class="fixWidth">
                  <i>${goods.promoteSales.type}</i>
                  <span>${goods.promoteSales.content}</span>
                </div>
              </div>
            </div>
            <div class="support">
              <div>
                <div class="title">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</div>
                <div class="fixWidth">${goods.support}</div>
              </div>
              <div>
                <div class="title">配&nbsp;送&nbsp;至</div>
                <div class="fixWidth">${goods.address}</div>
              </div>
            </div>`;
      info1.innerHTML = infos;
    }

    // 动态渲染商品的参数信息
    function choosed() {
      // 参数
      var crumb = goodData.goodsDetail.crumbData;
      Array.from(crumb).forEach(function (item) {
        // 获取到要追加元素的父亲
        var ddFar = document.querySelector(
          '.wrap .con .mainCon .infoWrap .choose .chooseArea'
        );
        // 动态创建dl
        var dlEle = document.createElement('dl');
        var dtEle = document.createElement('dt');
        dtEle.innerText = item.title;
        dlEle.appendChild(dtEle);
        ddFar.appendChild(dlEle);
        item.data.forEach(function (d) {
          var ddEle = document.createElement('dd');
          ddEle.innerText = d.type;
          dlEle.appendChild(ddEle);
        });
      });
    }

    // 给商品参数绑定单击事件
    function goodsParamsClick() {
      /**
       * 思路：
       * 1. 获取所有dl,并循环，找到指定下标里面的所有的dd
       * 2. 给dd循环绑定单击事件
       * 3. 单击时，把当前dd设置红色，同辈兄弟元素dd要改为灰色
       * 4. 把单击的参数条件记录在一个数组中，并在筛选条件容器中进行展示
       * 5. 把在数组中已经选中的条件动态创建mark标签，并插入到底指定页面筛选结果容器中
       */

      // 1. 获取所有dl,并循环，找到指定下标里面的所有的dd
      var dlNodes = document.querySelectorAll(
        '.wrap .con .mainCon .infoWrap .choose .chooseArea dl'
      );
      var result = new Array(4); // 创建一个指定长度的数组，存放我们单击的一些筛选条件
      result.fill(0); // 给数组元素都填充为0，代表没有选中条件
      // console.log(result); // [0, 0, 0, 0]
      dlNodes.forEach(function (item, index) {
        // 以dl为父找其下面的名为dd的字节点
        var ddNodes = item.querySelectorAll('dd');
        ddNodes.forEach(function (item_son) {
          // 2. 给dd循环绑定单击事件
          item_son.onclick = function () {
            // 通过循环dl的下标index找到指定dl,同辈兄弟元素dd要改为灰色
            ddNodes.forEach(function (dd) {
              dd.style.color = '#666';
            });
            // 3. 单击时，把当前dd设置红色，同辈兄弟元素dd要改为灰色
            this.style.color = 'red';
            // console.log(this);
            result[index] = this;

            // 重新计算价格
            changePrice(result);
            // 5. 把在数组中已经选中的条件动态创建mark标签，并插入到底指定页面筛选结果容器中
            var markFar = document.querySelector(
              '.wrap .con .mainCon .infoWrap .choose .chooseArea .choosed'
            );
            markFar.innerText = '';
            result.forEach(function (paramValue, indexs) {
              // 如果是0没有条件，0是假值，则不在创建mark,不要往下走
              if (!paramValue) {
                return;
              }
              // 创建 mark 节点，并追加到markFar节点容器下
              var mark = document.createElement('mark');
              mark.innerText = paramValue.innerText;
              // mark 追加a节点
              var aNode = document.createElement('a');
              aNode.innerText = 'x';
              // 记录当前条件所在原来的对应dl的下标，便于后面删除的时候，可以找到对应的dl标签
              aNode.setAttribute('resultIndex', indexs);
              mark.appendChild(aNode);
              markFar.appendChild(mark);
            });
            // 6、对创建的mark节点中的a标签绑定单击事件；
            var aEles = document.querySelectorAll(
              '.wrap .con .mainCon .infoWrap .choose .chooseArea .choosed mark a'
            );
            aEles.forEach(function (aEle, index) {
              aEle.onclick = function () {
                // 移除a节点的父节点  parentNode父节点
                this.parentNode.parentNode.removeChild(this.parentNode);
                // 删除其在result对应的条件，通过原来存储的dl下标来寻找
                var dlIndex = this.getAttribute('resultIndex');
                result[dlIndex] = 0;
                // 找到对应原来的下标的dl元素，把所有的dd文字改为灰色，把第一个即下标为0改为红色；
                var dd = dlNodes[dlIndex].querySelectorAll('dd');
                dd.forEach(function (dds) {
                  dds.style.color = '#666';
                });
                dd[0].style.color = 'red';

                // 重新计算价格
                changePrice(result);
              };
            });
          };
        });
      });
    }

    // 切换筛选条件变化价格
    
  </script>
</html>
