<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>我的pc项目</title>
  <link rel="stylesheet" href="css/reset.css" />
  <link rel="stylesheet" href="css/index.css" />
</head>

<body style="height: 1000px">
  <!--包裹器   整个页面的容器-->
  <div class="wrap">
    <!--窗口侧边栏-->
    <div class="toolBar toolWrap">
      <!--内容容器-->
      <div class="content"></div>
      <!--面包屑-->
      <div class="but list"></div>
      <!--中间列表-->
      <ul class="toolList">
        <li>
          <i class="tabIcon vip"></i>
          <em>尚品汇员</em>
        </li>
        <li>
          <i class="tabIcon cart"></i>
          <em>购物车</em>
        </li>
        <li>
          <i class="tabIcon follow"></i>
          <em>我的关注</em>
        </li>
        <li>
          <i class="tabIcon history"></i>
          <em>历史记录</em>
        </li>
        <li>
          <i class="tabIcon message"></i>
          <em>消息</em>
        </li>
        <li>
          <i class="tabIcon qus"></i>
          <em>咨询</em>
        </li>
      </ul>
      <!--回到顶部-->
      <div class="back">
        <i class="tabIcon"></i>
        <em></em>
      </div>
    </div>
    <!-- 头部区域 -->
    <header class="header">
      <!--头部第一行-->
      <div class="top">
        <div class="container">
          <!--登录-->
          <div class="login">
            <p>尚品汇欢迎您！</p>
            <p>
              <span>请</span>
              <a href="###">登录</a>
              <a href="###" class="register">免费注册</a>
            </p>
          </div>
          <!--头部导航-->
          <div class="headerNav">
            <a href="###">我的订单</a>
            <a href="###">我的购物车</a>
            <a href="###">我的尚品汇</a>
            <a href="###">尚品汇会员</a>
            <a href="###">企业采购</a>
            <a href="###">关注尚品汇</a>
            <a href="###">合作招商</a>
            <a href="###">商家后台</a>
          </div>
        </div>
      </div>
      <!--头部第二行-->
      <div class="bottom">
        <h1 class="logoArea">
          <a href="###">
            <img src="img/Logo.png" alt="尚品汇" />
          </a>
        </h1>
        <div class="searchArea">
          <form action="">
            <input type="text" />
            <button>搜索</button>
          </form>
        </div>
      </div>
    </header>
    <!--商品导航分类-->
    <div class="typeNav">
      <div class="container">
        <h2 class="all">全部商品分类</h2>
        <nav>
          <a href="###">服装城</a>
          <a href="###">美妆馆</a>
          <a href="###">尚品汇超市</a>
          <a href="###">全球购</a>
          <a href="###">闪购</a>
          <a href="###">团购</a>
          <a href="###">有趣</a>
          <a href="###">秒杀</a>
        </nav>
      </div>
    </div>
    <!--商品主要内容区域-->
    <section class="con">
      <!--路径导航-->
      <div class="conPoin">
        <!-- <a href="###">手机、数码、通讯</a>
        <a href="###">手机</a>
        <a href="###">Apple苹果</a>
        <a>iphone 6S系类</a> -->
      </div>
      <!--主要内容区域-->
      <div class="mainCon">
        <!--左侧放大镜-->
        <div class="previewWrap">
          <!--放大镜效果-->
          <div class="preview">
            <!--小图-->
            <div class="zoom">
              <!-- <img src="img/s1.png" alt=""> -->
            </div>
            <!--大图-->
          </div>
          <!--缩略图效果-->
          <div class="specScroll">
            <a class="prev">&lt;</a>
            <div class="itemCon">
              <ul class="list">
                <!-- <li><img src="img/s1.png" alt=""></li>
                <li><img src="img/s2.png" alt=""></li>
                <li><img src="img/s3.png" alt=""></li>
                <li><img src="img/s1.png" alt=""></li>
                <li><img src="img/s2.png" alt=""></li>
                <li><img src="img/s3.png" alt=""></li>
                <li><img src="img/s1.png" alt=""></li>
                <li><img src="img/s2.png" alt=""></li> -->
              </ul>
            </div>
            <a class="next">&gt;</a>
          </div>
        </div>
        <!--右侧商品信息-->
        <div class="infoWrap">
          <div class="info1"></div>
          <div class="choose">
            <div class="chooseArea">
              <div class="choosed"></div>
            </div>
            <div class="carWrap">
              <div class="controls">
                <input type="text" value="1" />
                <a href="###" class="plus">+</a>
                <a href="###" class="mins">-</a>
              </div>
              <div class="addBtn">
                <a href="###">加入购物车</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!--商品详情页-->
    <section class="productDetail">
      <!--侧边栏-->
      <aside class="aside">
        <!--选项卡切换的按钮-->
        <div class="tabWrap">
          <h4 class="active">相关分类</h4>
          <h4>推荐品牌</h4>
        </div>
        <!--选项卡内容-->
        <div class="tabContent">
          <div class="active">
            <ul class="partList">
              <li>手机</li>
              <li>手机壳</li>
              <li>内存卡</li>
              <li>iphone配件</li>
              <li>贴膜</li>
              <li>手机耳机</li>
              <li>移动电源</li>
              <li>平板电脑</li>
            </ul>
            <ul class="goodsList">
              <li>
                <div class="gImg">
                  <img src="img/part01.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
              <li>
                <div class="gImg">
                  <img src="img/part02.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
              <li>
                <div class="gImg">
                  <img src="img/part03.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
              <li>
                <div class="gImg">
                  <img src="img/part01.png" alt="" />
                </div>
                <p class="attr">Apple苹果iPhone 6s (A1699)</p>
                <p class="price">¥6088.00</p>
                <div class="addCar">
                  <a href="###">加入购物车</a>
                </div>
              </li>
            </ul>
          </div>
          <div>推荐品牌</div>
        </div>
      </aside>
      <div class="detail">
        <div class="fitting">
          <h4>选择搭配</h4>
          <div class="goodSuits">
            <div class="master">
              <img src="img/l-m01.png" alt="" />
              <p>¥5299</p>
              <i>+</i>
            </div>
            <ul class="suits">
              <li class="suitsItem">
                <img src="img/dp01.png" alt="" />
                <p>Feless费勒斯VR</p>
                <label>
                  <input type="checkbox" value="39" />
                  <span>39</span>
                </label>
              </li>
              <li class="suitsItem">
                <img src="img/dp02.png" alt="" />
                <p>Feless费勒斯VR</p>
                <label>
                  <input type="checkbox" value="39" />
                  <span>39</span>
                </label>
              </li>
              <li class="suitsItem">
                <img src="img/dp03.png" alt="" />
                <p>Feless费勒斯VR</p>
                <label>
                  <input type="checkbox" value="39" />
                  <span>39</span>
                </label>
              </li>
              <li class="suitsItem">
                <img src="img/dp04.png" alt="" />
                <p>Feless费勒斯VR</p>
                <label>
                  <input type="checkbox" value="39" />
                  <span>39</span>
                </label>
              </li>
            </ul>
            <div class="result">
              <div>已选购<span class="selected">0</span>件商品</div>
              <p class="price-tit">套餐价</p>
              <p class="price">¥5299</p>
              <button>加入购物车</button>
            </div>
          </div>
        </div>
        <div class="intro">
          <ul class="tabWrap">
            <li class="active"><a href="###">商品介绍</a></li>
            <li><a href="###">规格与包装</a></li>
            <li><a href="###">售后保障</a></li>
            <li><a href="###">商品评价</a></li>
            <li><a href="###">手机社区</a></li>
          </ul>
          <div class="tabContent">
            <div class="active">
              <ul class="goodsIntro">
                <li>分辨率：1920*1080(FHD)</li>
                <li>后置摄像头：1200万像素</li>
                <li>前置摄像头：500万像素</li>
                <li>核 数：其他</li>
                <li>频 率：以官网信息为准</li>
                <li>品牌： Apple</li>
                <li>商品名称：APPLEiPhone 6s Plus</li>
                <li>商品编号：1861098</li>
                <li>商品产地：中国大陆</li>
                <li>商品毛重：0.51kg</li>
                <li>热点：指纹识别，Apple Pay，金属机身，拍照神器</li>
              </ul>
              <div class="introImg">
                <img src="img/intro01.png" alt="" />
                <img src="img/intro02.png" alt="" />
                <img src="img/intro03.png" alt="" />
              </div>
            </div>
            <div>规格与包装</div>
            <div>售后保障</div>
            <div>商品评价</div>
            <div>手机社区</div>
          </div>
        </div>
      </div>
    </section>
  </div>
</body>
<!-- 引入js数据 -->
<script src="./js/data.js"></script>
<script>
  window.addEventListener('DOMContentLoaded', function () {
    cake();
    tab();
    tabWrap();
    fang();
    suo();
    suoClick();
    menu();
    smallmenu();
    fun();
    shang();
    shangClick();
    price();
    inputChangePrice();
  })
  
  var good = goodData.goodsDetail;
  // 初始化面包屑导航数据
  function cake(){
    // 父节点
    var conPoin = document.querySelector('.wrap .con .conPoin');
    // 声明一个变量，用来接收数据
    var conPoin_a = '';
    // 获取导航数据
    var path = goodData.path;
    Array.from(path).forEach(function(item,index){
      // console.log(item); // {title: '手机、数码、通讯', url: '###'}
      if( index !== path.length - 1 ){
        conPoin_a += `<a href='${item.url}'>${item.title}</a>`;
      }else{
        conPoin_a += `<a>${item.title}</a>`;
      }     
    })
    conPoin.innerHTML = conPoin_a;
  }

  // 左侧tab选项卡
  function tab(){
    var h4 = document.querySelectorAll('.wrap .productDetail .aside .tabWrap h4');
    // console.log(h4);
    Array.from(h4).forEach(function(item,index){
      item.onclick = function(){
        for(var i = 0; i < h4.length; i++){
          h4[i].classList.remove('active');
        }
        this.classList.add('active')
        // 获取下面的
        var tabContent = document.querySelectorAll('.wrap .productDetail .aside .tabContent > div');
        tabContent.forEach(function(items){
          for(var j = 0; j < tabContent.length; j++){
            tabContent[j].classList.remove('active');
          }
          tabContent[index].classList.add('active');
        })
      }
    })
  }

  // 底部tab选项卡
  function tabWrap(){
    // 获取li
    var li = document.querySelectorAll('.wrap .productDetail .detail .intro .tabWrap li');
    li.forEach(function(item,index){
      // console.log(item);
      item.onclick = function(){
        for(var i = 0; i < li.length; i++){
          li[i].classList.remove('active');
        }
        this.classList.add('active');
        // 获取下面的信息
        var tabContents = document.querySelectorAll('.wrap .productDetail .detail .intro .tabContent > div');
        tabContents.forEach(function(items){
          for(var j = 0; j < tabContents.length; j++){
            tabContents[j].classList.remove('active')
          }
          tabContents[index].classList.add('active');
        })
      }
    })
  }

  var bigIndex = 0;
  // 放大镜
  function fang(){
    // 小 父盒子 
    var zoom = document.querySelector('.wrap .con .mainCon .previewWrap .preview .zoom');
    // 获取大盒子
    var bBox = document.querySelector(
        '.wrap .con .mainCon .previewWrap .preview'
    );
    // 创建img
    var simg = document.createElement('img');
    simg.src = goodData.imgsrc[0].s;
    zoom.appendChild(simg);

    var mask = null;
    var bigBox = null;
    var bimg = null;
    // 当鼠标移入时
    zoom.onmouseenter = function(){
      // 遮盖
      mask = document.createElement('div');
      mask.setAttribute('class','mask');
      zoom.appendChild(mask);
      // 大盒子
      bigBox = document.createElement('div');
      bigBox.setAttribute('class','bigBox');
      // 大图
      bimg = document.createElement('img');
      bimg.src = goodData.imgsrc[bigIndex].b;
      // 追加
      bigBox.appendChild(bimg);
      bBox.appendChild(bigBox);

      // 当在里面移动时
      zoom.onmousemove = function(event){
        event = event || window,event;
        // 让鼠标在遮盖中间显示
        // 鼠标位于客户端的位置 - 遮盖盒子大小的一半 - 父盒子到视口顶部的距离
        var X = event.clientX - mask.offsetWidth / 2 - zoom.getBoundingClientRect().left;
        var Y = event.clientY - mask.offsetHeight / 2 - zoom.getBoundingClientRect().top;
        // console.log(X,Y);
        // 求遮盖最大的移动距离 大盒子 - 小盒子
        var maxLeft =  zoom.clientWidth - mask.offsetWidth;
        var maxTop =  zoom.clientHeight - mask.offsetHeight;
        if(X > maxLeft){
          X = maxLeft;
        }else if(X < 0){
          X = 0;
        }
        if(Y > maxTop){
          Y = maxTop;
        }else if(Y < 0){
          Y = 0;
        }
        mask.style.left = X + 'px';
        mask.style.top = Y + 'px';
        // 放大镜
        // 遮盖移动距离 * 大盒子最大移动距离 / 遮盖最大移动距离
        // 求大盒子最大移动距离
        var boxMaxL = bimg.clientWidth - bigBox.offsetWidth;
        var boxMaxT = bimg.clientHeight - bigBox.offsetHeight;
        // 
        bimg.style.left = -(X * boxMaxL / maxLeft) + 'px';
        bimg.style.top = -(Y * boxMaxT / maxTop) + 'px';
      }
      // 鼠标离开时
      zoom.onmouseleave = function(){
          // DOM树中要销毁遮盖，大图容器
        bBox.removeChild(bigBox);
        zoom.removeChild(mask);
        // 节点在DOM树已经销毁了，但是其dom节点的变量还是引用着它，为了消除无效DOM引用
        // 防止内存泄漏，要解除DOM的引用
        mask = bigBox = bimg = null;
        // 解绑鼠标移动和离开事件
        zoom.onmousemove = null;
        zoom.onmouseleave = null

      }
    }
  }

  // 缩略图操作
  function suo(){
    var list = document.querySelector('.wrap .con .mainCon .previewWrap .specScroll .itemCon .list');
    var imgsrc = goodData.imgsrc;
    imgsrc.forEach(function(item){
      // 创建li
      var li = document.createElement('li');
      // img
      var li_img = document.createElement('img');
      li_img.src = item.s;
      li.appendChild(li_img);
      list.appendChild(li);
    })
    // 当点击右侧的箭头时 ，绑定单击事件
    var next = document.querySelector('.wrap .con .mainCon .previewWrap .specScroll .next');
    var prev = document.querySelector('.wrap .con .mainCon .previewWrap .specScroll .prev');
    // 动态获取单击一次的移动距离
    var liNode = document.querySelectorAll('.wrap .con .mainCon .previewWrap .specScroll .itemCon .list > li')
    // 移动距离等于 自身大小 + 外边距
    var liLeft = liNode[0].offsetWidth + parseInt(window.getComputedStyle(liNode[0]).marginRight);
    // 最大移动距离
    var num = 5;
    var liMaxLeft = (liNode.length - num) * liLeft;
    var move = 0;
    // 右侧单击事件
    next.onclick = function(){
      if(move >= liMaxLeft){
        return;
      }
      move += liLeft;    
      list.style.left = -move + 'px';
    }
    // 左侧单击事件
    prev.onclick = function(){
      if(move === 0){
        return;
      }
      move -= liLeft;
      list.style.left = -move + 'px';
    }
  }

  // 点击缩略图
  function suoClick(){
    var liImg = document.querySelectorAll('.wrap .con .mainCon .previewWrap .specScroll .itemCon .list > li img')
    var sImg = document.querySelector('.wrap .con .mainCon .previewWrap .preview .zoom img');
    liImg.forEach(function(item,index){
      item.onclick = function(){
        sImg.src = this.src;
        bigIndex = index;
      }
    })
  }

  // 动态创建商品基本信息
  function fun() {
    // 获取父节点 就是要插入的地方
    var info = document.querySelector('.wrap .con .mainCon .infoWrap .info1')
    // 声明一个变量用来接收参数
    var goods = `<h3 class="infoName">${good.title}</h3>
<p class="news">${good.recommend}</p>
<div class="priceArea">
  <div class="priceArea1">
    <div class="title">价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格</div>
    <div class="price">
      <i>￥</i>
      <em>${good.price}</em>
      <span>降价通知</span>
    </div>
    <div class="remark">
      <i>累计评价</i>
      <span>${good.evaluateNum}</span>
    </div>
  </div>
  <div class="priceArea2">
    <div class="title">促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</div>
    <div class="fixWidth">
      <i>${good.promoteSales.type}</i>
      <span>${good.promoteSales.content}</span>
    </div>
  </div>
</div>
<div class="support">
  <div>
    <div class="title">支&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;持</div>
    <div class="fixWidth">${good.support}</div>
  </div>
  <div>
    <div class="title">配&nbsp;送&nbsp;至</div>
    <div class="fixWidth">${good.address}</div>
  </div>
</div>`;
    info.innerHTML = goods;

  var leftPriceNode = document.querySelector(
    '.wrap .productDetail .detail .fitting .goodSuits .master p'
  )
  // console.log(leftPriceNode); // <p>¥5299</p>  下面右侧的价格
  var rightPriceNode = document.querySelector(
    '.wrap .productDetail .detail .fitting .goodSuits .result .price'
  )
  // console.log(rightPriceNode); // <p class="price">¥5299</p> 下面左侧的价格

  var totalPrice = good.price;
  leftPriceNode.innerText = '¥' + totalPrice;
  // 还要考虑复选框默认选中的价格，累加到右边的价格
  var inputs = document.querySelectorAll(
    '.wrap .productDetail .detail .fitting .goodSuits .suits .suitsItem input'
  )
  // console.log(inputs); // NodeList(4) [input, input, input, input] 下面几个复选框的
  // 记录选中的数
  var selected = 0;
  inputs.forEach(function(input){
    // console.log(input);
    // 累加选中的价格
    if(input.checked){
      totalPrice += Number(input.value);
      selected++;
    }
  })
  // 设置购买附件的数量
  document.getElementsByClassName('selected')[0].innerText = selected;
  rightPriceNode.innerText = '¥' + totalPrice;

  }

  // 动态创建商品基本信息
  function shang(){
    // 获取要插入的父节点
    var chooseArea = document.querySelector('.wrap .con .mainCon .infoWrap .choose .chooseArea')
    var crumb = good.crumbData;
    crumb.forEach(function(crumb){
      // console.log(crumb); // {title: '选择颜色', data: Array(3)}
      // console.log(index); // 0 1 2 3
      // 创建dl dt dd
      var dlEle = document.createElement('dl');
      var dtEle = document.createElement('dt');
      dtEle.innerText = crumb.title;
      dlEle.appendChild(dtEle);
      chooseArea.appendChild(dlEle);
      crumb.data.forEach(function(data){
        // console.log(data); // {type: '金色', changePrice: 0}
        var ddEle = document.createElement('dd');
        ddEle.innerText = data.type;
        ddEle.setAttribute('price', data.changePrice)
        dlEle.appendChild(ddEle)
        // console.log(ddEle);
      })
    })
  }

  // 给商品基本信息绑定单击事件
  function shangClick(){
    // 获取dl
    var dlNode = document.querySelectorAll('.wrap .con .mainCon .infoWrap .choose .chooseArea dl')
    // var ddNode = document.querySelectorAll('.wrap .con .mainCon .infoWrap .choose .chooseArea dl dd')
    // console.log(dlNode); // NodeList(4) [dl, dl, dl, dl]
    var result = new Array(4);
    result.fill(0);
    // console.log(result); // [0, 0, 0, 0]
    dlNode.forEach(function(item,index){
      // console.log(item); // <dl>...</dl>
      // console.log(index); // 1 2 3 4
      var ddNode = item.querySelectorAll('dd')
      ddNode.forEach(function(dd){
        dd.onclick = function(){
          ddNode.forEach(function(dds){
            // console.log(dds);
            dds.style.color = '#666';
          })
          this.style.color = 'red'
          result[index] = this;
          // console.log(result);
          // 重新计算价格
          price(result);
          // 创建mark 并追加到父节点下
          // 父节点
          var choosed = document.querySelector('.wrap .con .mainCon .infoWrap .choose .chooseArea .choosed')
          choosed.innerText = '';
          result.forEach(function(res,indexs){
            if(!res){
              return;
            }
            var mark = document.createElement('mark');
            mark.innerText = res.innerText;
            // 创建a节点
            var aNode = document.createElement('a');
            aNode.innerText = 'x';
            aNode.setAttribute('resultIndex',indexs)
            mark.appendChild(aNode);         
            choosed.appendChild(mark);
          })
            // 6、对创建的mark节点中的a标签绑定单击事件；
          var aEle = document.querySelectorAll('.wrap .con .mainCon .infoWrap .choose .chooseArea .choosed mark a ');
          aEle.forEach(function(aa){
            aa.onclick = function(){
              this.parentNode.parentNode.removeChild(this.parentNode);
              var dlIndex = this.getAttribute('resultIndex');
              result[dlIndex] = 0;
              var dd = dlNode[dlIndex].querySelectorAll('dd')
              dd.forEach(function(dds){
                dds.style.color = '#666';
              })
              dd[0].style.color = 'red';
              // 重新计算价格
              price(result);
            }
          })
        }
      })
    })
  }

  // 商品价格
  function price(result){
    var totalPrice = goodData.goodsDetail.price //最初始原价

  // 循环筛选条件的对象，获取其中的价格
  result.forEach(function (ddNode) {
    if (!ddNode) {
      return // 没有添加则直接退出
    }
    // 获取到每个节点的价格和最初始原价进行累加
    var price = Number(ddNode.getAttribute('price'));
    totalPrice += price
  })
    // 给三处价格赋值
    // 基本信息里的价格
    var goodsPriceNode = document.querySelector(
    '.wrap .con .mainCon .infoWrap .info1 .priceArea .priceArea1 .price em'
    )
    // 下面右侧
    var leftPriceNode = document.querySelector(
      '.wrap .productDetail .detail .fitting .goodSuits .master p'
    )
    // 下面左侧
    var rightPriceNode = document.querySelector(
      '.wrap .productDetail .detail .fitting .goodSuits .result .price'
    )
    goodsPriceNode.innerText = totalPrice;
    leftPriceNode.innerText = '¥' + totalPrice;
    // 还要考虑复选框默认选中的价格，累加到右边的价格
    var inputs = document.querySelectorAll(
    '.wrap .productDetail .detail .fitting .goodSuits .suits .suitsItem input'
    )
    
    inputs.forEach(function (input) {
    // 累加选中的价格
      if (input.checked) {
        // this.value获取到的内容是字符串，需要转成number类型
        totalPrice += Number(input.value)
      }
    })
    rightPriceNode.innerText = '¥' + totalPrice
  }
  
  // 给附加商品的input框绑定单击事件计算价格
function inputChangePrice() {
  var inputs = document.querySelectorAll(
    '.wrap .productDetail .detail .fitting .goodSuits .suits .suitsItem input'
  )
  // 获取原数量
  var selected = Number(
    document.getElementsByClassName('selected')[0].innerText
  )
  console.log(selected)
  inputs.forEach(function (input) {
    // 获取价格和右边的价格进行计算
    input.onclick = function () {
      // 因为右边的价格会因为一些添加会再次变化，所以这里要获取最新的右边的价格
      var rightPriceNode = document.querySelector(
        '.wrap .productDetail .detail .fitting .goodSuits .result .price'
      )
      var rightTotalPrice = rightPriceNode.innerText // '¥5320'
      // 获取右边number价格，需要提取
      rightTotalPrice = Number(rightTotalPrice.substring(1))
      console.log(rightTotalPrice)
      if (this.checked) {
        // 如果是选中的，右边价格加上当前复选框的价格
        console.log('选中了')
        selected++ // 数量累加
        rightTotalPrice += Number(this.value)
      } else {
        // 如果是未选中的，右边价格要减去当前的复选框的价格
        console.log('未选中了')
        selected-- // 数量减减
        rightTotalPrice -= Number(this.value)
      }
      console.log(selected)
      // 把最新的右边价格给右边价格容器赋值
      rightPriceNode.innerText = '¥' + rightTotalPrice
      // 设置购买附件的数量
      document.getElementsByClassName('selected')[0].innerText = selected;
    }
  })
}

  // 左侧菜单栏
  function menu(){
    var three = document.querySelector('.wrap .toolBar .but.list');
    var tool = document.querySelector('.wrap .toolBar.toolWrap');
    var content = document.querySelector('.wrap .toolBar .content');
    var a = true;
    three.onclick = function(){
      if(a){
        tool.className = 'toolBar toolOut';
        three.className = 'but cross';
        a = false;
      }else{
        tool.className = 'toolBar toolWrap';
        three.className = 'but list';
        a = true;
      }
    }
  }

  // 左侧小菜单栏
  function smallmenu(){
    var i = document.querySelectorAll('.wrap .toolBar .toolList li i');
    var em = document.querySelectorAll('.wrap .toolBar .toolList li em');
    // console.log(i);
    i.forEach(function(item,index){
      item.onmouseenter = function(){
        this.style.backgroundColor = 'rgb(200,17,34)';
        em[index].style.left = '-62px';
      }
      item.onmouseleave = function(){
        this.style.backgroundColor = 'rgb(122,110,110)';
        em[index].style.left = '35px';
      }
    })
  }
</script>
</body>

</html>